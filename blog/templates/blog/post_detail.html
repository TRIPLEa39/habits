{% extends "blog/layout.html" %}
{% load crispy_forms_tags %}
{% block content %}
    <div class="container mt-4" style="max-width: 500px;">
        <div>
            <article class="card mb-4 shadow-sm bg-body-tertiary">
                <div class="card-body d-flex align-items-start">
                    <!-- Author image -->
                    <img class="rounded-circle me-3 article-img" src="{{ post.author.profile.image.url }}" alt="{{ post.author }}" style="width:48px; height:48px; object-fit:cover;">
                    <!-- Post content -->
                    <div class="flex-grow-1">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <a class="fw-bold text-primary me-2" href="{% url 'user-posts' post.author.username %}">{{ post.author }}</a>
                            <small class="text-muted">{{ post.date_posted|date:"F d, Y" }}</small>
                        </div>
                        <h2 class="h5 mb-2">
                            <a class="text-decoration-none text-dark">{{ post.title }}</a>
                        </h2>
                        <div class="p-3 border rounded bg-light">
                            <p class="mb-0 text-secondary">{{ post.content }}</p>
                        </div>
                        {% if object.author == user %}
                            <div class="mt-2">
                            <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'post-update' object.id %}">Edit Post</a>
                            <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'post-delete' object.id %}">Delete Post</a>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </article>
        </div>
    </div>
{% endblock content %}